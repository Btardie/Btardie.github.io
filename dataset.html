<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Your Dataset</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* Basic Styling */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
            color: #343a40;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        /* Navigation Bar */
        nav {
            width: 100%;
            background-color: #FFD1A9;
            padding: 10px 0;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        nav ul {
            list-style-type: none;
            display: flex;
            justify-content: center;
            margin: 0;
            padding: 0;
        }

        nav ul li {
            margin: 0 15px;
        }

        nav ul li a {
            text-decoration: none;
            color: #343a40;
            font-weight: bold;
            padding: 8px 12px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        nav ul li a:hover {
            background-color: #ffcccb;
        }

        .description {
            width: 90%;
            max-width: 800px;
            color: #343a40;
            background-color: #ffffff;
            padding: 20px;
            margin-top: 80px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .description h2 {
            font-size: 1.6em;
            margin-bottom: 10px;
            text-align: center;
        }
        .description p,
        .description li {
            font-size: 1em;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        .description ul {
            margin-left: 20px;
            padding-left: 20px;
        }
        .description strong {
            font-weight: bold;
            color: #5C3D2E;
        }

        /* Main Content Layout */
        main {
            display: flex;
            flex-direction: column;
            width: 90%;
            max-width: 1200px;
        }
        .panels {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        .left-panel, .right-panel {
            flex: 1;
            padding: 20px;
            background-color: #FFF7EB;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin: 10px;
            width: 100%;
            max-width: 580px;
        }
        .right-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        button {
            background-color: #007bff;
            color: #ffffff;
            padding: 12px 20px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            border-radius: 5px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        button:active {
            transform: scale(0.98);
        }
        input[type="number"], input[type="text"], select {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ced4da;
            margin-bottom: 10px;
            width: 100%;
            box-sizing: border-box;
            transition: border-color 0.3s ease;
        }
        input[type="number"]:focus, input[type="text"]:focus, select:focus {
            border-color: #007bff;
            outline: none;
        }

        table {
            margin-top: 20px;
            border-collapse: collapse;
            width: 100%;
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        th {
            background-color: #007bff;
            color: #ffffff;
        }
        td {
            background-color: #ffffff;
        }
        td:nth-child(even) {
            background-color: #f1f3f5;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .panels {
                flex-direction: column;
                align-items: center;
            }
            .left-panel, .right-panel {
                width: 100%;
            }
            table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
        }

        /* Loading Spinner */
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #007bff;
            animation: spin 1s linear infinite;
            display: none;
            margin: 10px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="index.html#data-analysis">Data Analysis Types</a></li>
            <li><a href="index.html#examples">Examples</a></li>
            <li><a href="index.html#qa">Q&A</a></li>
            <li><a href="dataset.html">Create Dataset</a></li>
        </ul>
    </nav>

    <!-- Description Section -->
    <div class="description">
        <h2>Welcome to the Dataset Generator Tool!</h2>
        <p><strong>Step 1:</strong> Specify the number of records, then add columns with your desired data type. Each column can be customized for text, numbers, dates, or categories. The dataset preview will update automatically as you make changes.</p>
    </div>

    <!-- Main Content (Split Panels) -->
    <main>
        <div class="panels">
            <!-- Left Panel for User Input -->
            <div class="left-panel">
                <h2>Create Your Dataset</h2>
                <label for="numRecords">Number of Records:</label>
                <input type="number" id="numRecords" name="numRecords" min="1" value="5" oninput="generatePreview()" aria-label="Number of records">
                <button onclick="addColumn()" aria-label="Add column">Add Column</button>
                <div id="columnContainer"></div>
            </div>

            <!-- Right Panel for Dataset Preview -->
            <div class="right-panel">
                <h2>Dataset Preview</h2>
                <table id="previewTable"></table>
                <button onclick="downloadDataset()" aria-label="Download dataset">Download Dataset</button>
                <div class="spinner" id="loadingSpinner"></div>
            </div>
        </div>
    </main>

    <!-- Inline JavaScript -->
    <script>
        let columnCount = 0;

        function addColumn() {
            columnCount++;
            const container = document.getElementById("columnContainer");

            const div = document.createElement("div");
            div.classList.add("column-settings");

            div.innerHTML = `
                <h3>Column ${columnCount}</h3>
                <label>Column Name:</label>
                <input type="text" name="colName${columnCount}" placeholder="Enter column name" oninput="generatePreview()" aria-label="Column name">

                <label>Data Type:</label>
                <select name="colType${columnCount}" onchange="configureColumnOptions(${columnCount}, this.value); generatePreview();" aria-label="Data type">
                    <option value="text">Text</option>
                    <option value="number">Number</option>
                    <option value="date">Date</option>
                    <option value="category">Category</option>
                </select>

                <div id="colOptions${columnCount}" class="options-container"></div>
            `;
            container.appendChild(div);
            generatePreview();
        }

        function configureColumnOptions(colNum, type) {
            const optionsDiv = document.getElementById(`colOptions${colNum}`);
            optionsDiv.innerHTML = "";

            if (type === "text") {
                optionsDiv.innerHTML = `
                    <label>Sample Text Values (comma-separated):</label>
                    <input type="text" name="textValues${colNum}" placeholder="e.g., Alice, Bob, Charlie" oninput="generatePreview()">
                `;
            } else if (type === "number") {
                optionsDiv.innerHTML = `
                    <label>Mode:</label>
                    <select name="mode${colNum}" onchange="generatePreview()">
                        <option value="basic">Basic</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <div id="basicOptions${colNum}" class="basic-options">
                        <label>Range:</label>
                        <input type="number" name="minNum${colNum}" placeholder="Min" oninput="generatePreview()">
                        <input type="number" name="maxNum${colNum}" placeholder="Max" oninput="generatePreview()">
                    </div>
                    <div id="advancedOptions${colNum}" class="advanced-options" style="display: none;">
                        <label>Mean:</label>
                        <input type="number" name="mean${colNum}" placeholder="Mean" oninput="generatePreview()">
                        <label>Standard Deviation:</label>
                        <input type="number" name="stddev${colNum}" placeholder="Standard Deviation" oninput="generatePreview()">
                    </div>
                `;
                
                const modeSelector = optionsDiv.querySelector(`select[name="mode${colNum}"]`);
                modeSelector.addEventListener('change', () => {
                    const basicOptions = document.getElementById(`basicOptions${colNum}`);
                    const advancedOptions = document.getElementById(`advancedOptions${colNum}`);
                    if (modeSelector.value === "basic") {
                        basicOptions.style.display = "block";
                        advancedOptions.style.display = "none";
                    } else {
                        basicOptions.style.display = "none";
                        advancedOptions.style.display = "block";
                    }
                });
            } else if (type === "date") {
                optionsDiv.innerHTML = `
                    <label>Start Date:</label>
                    <input type="date" name="startDate${colNum}" oninput="generatePreview()">
                    <label>End Date:</label>
                    <input type="date" name="endDate${colNum}" oninput="generatePreview()">
                `;
            } else if (type === "category") {
                optionsDiv.innerHTML = `
                    <label>Categories (comma-separated):</label>
                    <input type="text" name="categories${colNum}" placeholder="e.g., Red, Blue, Green" oninput="generatePreview()">
                `;
            }
        }

        function generateCell(col) {
            if (col.type === "number") {
                const mode = col.options.querySelector(`select[name="mode${col.colNum}"]`).value;
                if (mode === "basic") {
                    const min = parseFloat(col.options.querySelector(`[name="minNum${col.colNum}"]`)?.value) || 0;
                    const max = parseFloat(col.options.querySelector(`[name="maxNum${col.colNum}"]`)?.value) || 100;
                    return Math.floor(Math.random() * (max - min + 1)) + min;
                } else if (mode === "advanced") {
                    const mean = parseFloat(col.options.querySelector(`[name="mean${col.colNum}"]`)?.value) || 0;
                    const stddev = parseFloat(col.options.querySelector(`[name="stddev${col.colNum}"]`)?.value) || 1;
                    return Math.round((Math.random() * stddev) + mean);
                }
            }
            return 'N/A';
        }

        function generatePreview() {
            // Preview generation logic...
        }

        function downloadDataset() {
            // Dataset download logic...
        }
    </script>

</body>
</html>
